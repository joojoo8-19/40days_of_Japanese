<!doctype html>
<html lang="ko">

<head>
    <!-- Google Tag Manager -->
    <script>
        (function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-TPTN8WLK');
    </script>
    <!-- End Google Tag Manager -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>🇯🇵 40 days of Japanese: 40일 일본어 기초 회화</title>
    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TPTN8WLK" height="0" width="0"
            style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <main class="app-container">
        <header class="top-menu">
            <nav class="menu">
                <button class="menu-button" data-menu="letters">
                    <span class="menu-icon">ᓚ₍ ^. .^₎</span>
                    char
                </button>
                <button class="menu-button" data-menu="grammar">
                    <span class="menu-icon">₍^. .^₎Ⳋ</span>
                    lecture
                </button>
                <button class="menu-button" data-menu="sentences">
                    <span class="menu-icon">₍^. .^₎⟆</span>
                    repeat
                </button>
            </nav>
        </header>

        <section class="window-frame">
            <div class="window-header">
                <div class="window-controls">
                    <div class="control-dot red"></div>
                    <div class="control-dot yellow"></div>
                    <div class="control-dot green"></div>
                </div>
            </div>

            <div class="window-content" id="window">
                <!-- initial page -->
                <div id="initial-state" class="initial-message">
                    <div class="roadmap-section">
                        <div class="section-header">
                            <strong>
                                <h3>"나는 해적왕이 될 거야!"라고 외칠 줄은 알지만,<br>
                                    "가장 가까운 역이 어디인가요?" 라는 말은 할 줄 모르던 때가 있었다.
                                </h3>
                            </strong>

                        </div>
                    </div>
                    <hr class="divider">
                    <div class="section-header">
                        <h3>1️⃣ Char: 히라가나/가타카나부터 시작할까요?</h3>
                        <h4>❌ 그냥 쓰면서 외우지 마세요. <br>⭕ 이미지 연상 암기법을 활용해 보세요.</h4>
                    </div>
                    <div class="guide-box">
                        <p>✅ <a href="https://youtu.be/TOaNd-rjaQg?si=YiWl_VnXf2KYGr1X">히라가나 암기법 영상</a>을
                            보며 '이빨(い)', '우산(う)' 같은 이미지를 머릿속에 그리세요.</p>
                        <p>✅ 영상으로 익힌 글자들을 Char 메뉴에서 제공하는 플래시 카드로 복습하세요. <br>등하굣길이나 출퇴근길에 폰으로 슥슥 넘기다 보면 어느새 글자가 눈에
                            익을 거예요.</p>
                        <button class="action-btn" onclick="document.querySelector('[data-menu=\'letters\']').click()">
                            지금 글자 배우러 가기 ✍🏻
                        </button>
                    </div>
                    <hr class="divider">

                    <div class="roadmap-section initial-message">
                        <div class="section-header">
                            <h3>2️⃣ Lecture: 초보자의 가려운 곳을 긁어드려요.</h3>
                            <h4>📚 검증된 무료 강의 <a
                                    href="https://youtube.com/playlist?list=PLw1jTnVa5IIrUWZgXYZd5TUbOJOeSaoQJ&si=NtS550sEKP4j9h_5">홍쌤
                                    일본어TV</a>와 <a href="https://youtu.be/hrygtLV0NlQ?si=em7KHxNclck3KERq">와카메센세</a>를
                                기반으로,<br> 📝 실제 학습자가 느낀 궁금증을 보완하여 만들었습니다.</h4>
                        </div>
                        <div class="guide-box">
                            <p>✅ 강의 내용을 그대로 베낀 자료가 아닙니다! <br>일본어 초보자 입장에서 실제로 궁금했던 내용을 중심으로 정리했습니다.</p>
                            <p>✅ "일본인들도 가정법을 외워서 말 할까요?" 설마요. <br>문법의 핵심 특징만 알면 외울 양이 확 줄어듭니다. 이런 꿀팁들을 학습 자료에 녹여냈습니다.</p>
                            <p>✅ 직접 만든 자료로 Notebook LM을 활용해 만든 강의를 들어보세요.</p>
                            <button class="action-btn"
                                onclick="document.querySelector('[data-menu=\'grammar\']').click()">
                                지금 강의 들으러 가기 💻
                            </button>
                        </div>
                        <div id="roadmap-container" class="roadmap-container">
                            <div id="milestones-list"></div>
                        </div>
                    </div>

                    <hr class="divider">

                    <div class="roadmap-section initial-message">
                        <div class="section-header">
                            <h3>3️⃣ Repeat: 입이 기억할 때까지 반복하세요</h3>
                            <h4>🤯 뇌를 회화 모드로 전환하는 최종 단계입니다. <br> 🚀 이제부터가 진짜 시작이에요!</h4>

                        </div>
                        <div class="guide-box">
                            <div class="guide-box final">
                                <p>✅ 음성을 반복해서 들으며 귀를 틔우세요.</p>
                                <p>✅ 한국어 문장을 보고 스스로 일본어 문장을 만들어 보세요. <br>머릿속으로 조합하고 직접 뱉어보는 과정이 <strong>회화와 작문 실력을 동시에
                                        수직
                                        상승</strong>시킵니다.</p>
                                <div class="action-btn-wrapper">
                                    <button class="action-btn"
                                        onclick="document.querySelector('[data-menu=\'sentences\']').click()">
                                        지금 회화 연습하러 가기 📢
                                    </button>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>


                <!-- LETTERS PANEL (기존 히라/카타) -->
                <div id="letters-panel" class="panel hidden">
                    <div class="top-controls">
                        <div class="mode-switch">
                            <label>
                                <input type="radio" name="kana" value="hiragana" checked>
                                히라가나
                            </label>
                            <label>
                                <input type="radio" name="kana" value="katakana">
                                가타카나
                            </label>
                        </div>

                        <div class="box-buttons" role="tablist" aria-label="Leitner boxes">
                            <button class="box-btn" data-box="1">Box 1</button>
                            <button class="box-btn" data-box="2">Box 2</button>
                            <button class="box-btn" data-box="3">Box 3</button>
                            <button class="box-btn" data-box="4">Box 4</button>
                            <button class="box-btn" data-box="5">Box 5</button>
                        </div>
                    </div>

                    <div class="learning-area">
                        <aside class="sidebar">
                            <h3>라이트너 박스 (글자)</h3>
                            <p>정답을 맞힐수록 카드는 박스 1에서 5로 이동합니다. <br>박스 숫자가 클수록 해당 내용을 더 잘 익혔다는 뜻입니다.</p>
                            <ul id="box-counts" class="counts">
                                <li>Box 1: <span data-count="1">0</span></li>
                                <li>Box 2: <span data-count="2">0</span></li>
                                <li>Box 3: <span data-count="3">0</span></li>
                                <li>Box 4: <span data-count="4">0</span></li>
                                <li>Box 5: <span data-count="5">0</span></li>
                            </ul>
                            <button id="reset-progress" class="small">초기화</button>
                        </aside>

                        <section class="card-area" aria-live="polite">
                            <div id="flashcard" class="card wide">
                                <div class="card-front">
                                    <div class="kana-sound" id="front-hangul">아</div>
                                    <div class="front-controls">
                                        <button id="hint-btn">힌트</button>
                                        <button id="flip-btn">뒤집기</button>
                                    </div>
                                    <div id="hint-area" class="hint" hidden>
                                        <strong id="hint-keyword">키워드</strong>
                                        <p id="hint-explanation">설명</p>
                                    </div>
                                </div>
                                <div class="card-back" hidden>
                                    <div class="kana-char" id="kana-svg-container"></div>
                                    <!-- <div class="kana-char" id="back-char">あ</div> -->
                                    <!-- <div class="kana-romaji" id="back-romaji">a</div> -->
                                    <div class="answer-controls">
                                        <button id="correct-btn" class="correct">정답</button>
                                        <button id="wrong-btn" class="wrong">오답</button>
                                        <button id="replay-btn">다시 보기</button>
                                    </div>
                                </div>
                            </div>

                            <div id="empty-state" class="empty" hidden>
                                <p>선택한 박스에 학습할 카드가 없습니다.</p>
                            </div>
                        </section>
                    </div>
                </div>

                <!-- GRAMMAR PANEL -->
                <div id="grammar-panel" class="panel hidden">
                    <div class="top-controls">
                        <div class="mode-switch">
                            <label>Day:
                                <select id="day-select-g">
                                    <!-- options 1..40 inserted by JS -->
                                </select>
                            </label>
                        </div>
                        <a id="lecture-pdf" href="data/curriculum/day1/study1.pdf" download>Day 1 pdf 강의자료</a>
                    </div>
                    <div class="video-container">
                        <video id="lecture-video" controls>
                            <source id="lecture-source" src="data/curriculum/day1/day1.mp4" type="video/mp4" />
                        </video>
                    </div>
                    <canvas id="canvas" style="display:none;"></canvas>
                </div>

                <!-- SENTENCES PANEL (새로 추가) -->
                <div id="sentences-panel" class="panel hidden">
                    <div class="top-controls">
                        <div class="mode-switch">
                            <label>Day:
                                <select id="day-select-s">
                                    <!-- options 1..40 inserted by JS -->
                                </select>
                            </label>
                        </div>

                        <div class="box-buttons" role="tablist" aria-label="Sentence Leitner boxes">
                            <button class="sentence-box-btn box-btn" data-box="1">Box 1</button>
                            <button class="sentence-box-btn box-btn" data-box="2">Box 2</button>
                            <button class="sentence-box-btn box-btn" data-box="3">Box 3</button>
                            <button class="sentence-box-btn box-btn" data-box="4">Box 4</button>
                            <button class="sentence-box-btn box-btn" data-box="5">Box 5</button>
                        </div>
                    </div>

                    <div class="learning-area sentence">
                        <aside class="sidebar">
                            <h3>라이트너 박스 (문장)</h3>
                            <p>정답을 맞힐수록 카드는 박스 1에서 5로 이동합니다. <br>박스 숫자가 클수록 해당 내용을 더 잘 익혔다는 뜻입니다.</p>
                            <ul id="sentence-box-counts" class="counts">
                                <li>Box 1: <span data-scount="1">0</span></li>
                                <li>Box 2: <span data-scount="2">0</span></li>
                                <li>Box 3: <span data-scount="3">0</span></li>
                                <li>Box 4: <span data-scount="4">0</span></li>
                                <li>Box 5: <span data-scount="5">0</span></li>
                            </ul>
                            <button id="reset-sentences" class="small">초기화(문장)</button>
                        </aside>
                        <div class="sentence-main-container">
                            <section id="sentence-list-view" class="sentence-list-container wide">
                                <div class="list-header">
                                    <h4>📝 학습 문장 미리보기</h4>
                                    <p>이 박스에서 배울 문장을 미리 확인해 보세요.</p>
                                </div>
                                <div id="sentence-items" class="sentence-items-list">
                                </div>
                            </section>
                            <section class="card-area" aria-live="polite">
                                <div id="sentence-card" class="card wide">
                                    <div class="card-front">
                                        <div class="sentence-korean" id="s-front-kr"
                                            style="font-size:20px; font-weight:700;">(한국어 문장)</div>
                                        <div class="front-controls">
                                            <button id="s-hint-btn">힌트</button>
                                            <button id="s-flip-btn">뒤집기</button>
                                        </div>
                                        <div id="s-hint-area" class="hint" hidden>
                                            <p id="s-hint-explain"></p>
                                            <ul id="s-hints" class="sentence-hints"></ul>
                                        </div>
                                    </div>
                                    <div class="card-back" hidden>
                                        <div style="text-align:center;">
                                            <div class="sentence-kr-small" id="s-back-kr"
                                                style="font-size:14px;color:#666;margin-bottom:12px;"></div>

                                            <div class="sentence-row"
                                                style="display: flex; align-items: center; justify-content: center; gap: 10px;">
                                                <button class="sound-btn" id="s-back-sound">📢</button>
                                                <div class="sentence-jp" id="s-back-jp"
                                                    style="font-size:28px;font-weight:800;"></div>
                                            </div>

                                            <div class="sentence-pronounce" id="s-back-pron"
                                                style="font-size:18px;color:#666;margin-top:8px;"></div>
                                        </div>
                                        <div class="answer-controls" style="margin-top:25px;">
                                            <button id="s-correct-btn" class="correct">정답</button>
                                            <button id="s-wrong-btn" class="wrong">오답</button>
                                        </div>
                                    </div>
                                </div>

                                <div id="sentence-empty" class="empty" hidden>
                                    <p>선택한 박스에 학습할 문장이 없습니다.</p>
                                </div>
                            </section>
                        </div>
                    </div>
                </div>

            </div>
        </section>

        <footer class="footer">
            <small>간단한 Leitner 암기 시스템 • 진행은 브라우저에 저장됩니다.</small>
        </footer>
    </main>
    <!-- app.js -->
    <script type="module" src="app.js"></script>
</body>

</html>